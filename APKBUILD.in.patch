diff --git a/alpine/APKBUILD.in b/alpine/APKBUILD.in
index 5f3446175f..5b64dc39da 100644
--- a/alpine/APKBUILD.in
+++ b/alpine/APKBUILD.in
@@ -7,7 +7,7 @@ pkgdesc="Ceph is a distributed object store and file system"
 pkgusers="ceph"
 pkggroups="ceph"
 url="http://ceph.com"
-arch="x86_64"
+arch="@ARCH@"
 license="LGPL-2.1 and LGPL-3.0 and CC-BY-SA-1.0 and GPL-2.0 and BSL-1.0 and \
 GPL-2.0-with-autoconf-exception and BSD-3-Clause and MIT"
 depends="ceph-osd ceph-mds ceph-mgr	ceph-mon"
@@ -142,6 +142,7 @@ build() {
 		-DWITH_MANPAGE=ON \
 		-DWITH_PYTHON3=OFF \
 		-DWITH_LTTNG=OFF \
+		-DWITH_RDMA=OFF \
 		-DWITH_SYSTEM_BOOST=ON \
 		-DWITH_TESTS=${_with_tests:-OFF} \
 		|| return 1
diff --git a/make-dist b/make-dist
index da684f716a..c362fe71ff 100755
--- a/make-dist
+++ b/make-dist
@@ -15,6 +15,8 @@ else
     rpm_release=0
 fi
 
+arch=$(abuild -A)
+
 outfile="ceph-$version"
 echo "version $version"
 
@@ -118,6 +120,7 @@ for spec in ceph.spec.in alpine/APKBUILD.in; do
     cat $spec |
         sed "s/@PROJECT_VERSION@/$rpm_version/g" |
         sed "s/@RPM_RELEASE@/$rpm_release/g" |
+        sed "s/@ARCH@/$arch/g" |
         sed "s/@TARBALL_BASENAME@/ceph-$version/g" > `echo $spec | sed 's/.in$//'`
 done
 ln -s . $outfile
